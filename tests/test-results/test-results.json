{"numTotalTestSuites":86,"numPassedTestSuites":57,"numFailedTestSuites":29,"numPendingTestSuites":0,"numTotalTests":176,"numPassedTests":137,"numFailedTests":39,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1759849520224,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["streamUtils","createSSEStream"],"fullName":"streamUtils createSSEStream should create a Response with correct SSE headers","status":"passed","title":"should create a Response with correct SSE headers","duration":3.0226889999999003,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","createSSEStream"],"fullName":"streamUtils createSSEStream should call the callback with a controller","status":"passed","title":"should call the callback with a controller","duration":0.7486450000000104,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","createSSEStream"],"fullName":"streamUtils createSSEStream should send done event on completion","status":"passed","title":"should send done event on completion","duration":0.6054430000000366,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","createSSEStream"],"fullName":"streamUtils createSSEStream should handle errors gracefully","status":"passed","title":"should handle errors gracefully","duration":0.5173429999999826,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","streamProgressUpdate"],"fullName":"streamUtils streamProgressUpdate should encode progress update correctly","status":"passed","title":"should encode progress update correctly","duration":0.32777199999998174,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","streamProgressUpdate"],"fullName":"streamUtils streamProgressUpdate should handle different status values","status":"passed","title":"should handle different status values","duration":0.20540100000005168,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","streamJSONEvent"],"fullName":"streamUtils streamJSONEvent should encode JSON event correctly","status":"passed","title":"should encode JSON event correctly","duration":0.3448929999999564,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","streamJSONEvent"],"fullName":"streamUtils streamJSONEvent should handle arrays","status":"passed","title":"should handle arrays","duration":0.2244509999999309,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","streamJSONEvent"],"fullName":"streamUtils streamJSONEvent should handle primitive values","status":"passed","title":"should handle primitive values","duration":0.3808530000000019,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","handleTextStream"],"fullName":"streamUtils handleTextStream should handle text stream and return full text","status":"passed","title":"should handle text stream and return full text","duration":0.38327300000003106,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","handleTextStream"],"fullName":"streamUtils handleTextStream should encode each chunk correctly","status":"passed","title":"should encode each chunk correctly","duration":0.2192609999999604,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","handleTextStream"],"fullName":"streamUtils handleTextStream should handle multi-line chunks","status":"passed","title":"should handle multi-line chunks","duration":0.18018100000006143,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","handleTextStream"],"fullName":"streamUtils handleTextStream should handle empty stream","status":"passed","title":"should handle empty stream","duration":0.1225409999999556,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","handleTextStream"],"fullName":"streamUtils handleTextStream should handle stream with special characters","status":"passed","title":"should handle stream with special characters","duration":0.21834100000000944,"failureMessages":[],"meta":{}},{"ancestorTitles":["streamUtils","Integration tests"],"fullName":"streamUtils Integration tests should work together in a typical streaming workflow","status":"passed","title":"should work together in a typical streaming workflow","duration":0.47001299999999446,"failureMessages":[],"meta":{}}],"startTime":1759849532634,"endTime":1759849532642.47,"status":"passed","message":"","name":"/home/sam/mastra-governed-rag/src/utils/streamUtils.test.ts"},{"assertionResults":[{"ancestorTitles":["ThemeToggle"],"fullName":"ThemeToggle renders the switch and starts unchecked in light mode","status":"passed","title":"renders the switch and starts unchecked in light mode","duration":153.9738209999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["ThemeToggle"],"fullName":"ThemeToggle toggles to dark mode when switched on","status":"passed","title":"toggles to dark mode when switched on","duration":29.28927300000032,"failureMessages":[],"meta":{}},{"ancestorTitles":["ThemeToggle"],"fullName":"ThemeToggle toggles back to light mode when already dark","status":"passed","title":"toggles back to light mode when already dark","duration":22.591021000000183,"failureMessages":[],"meta":{}}],"startTime":1759849530682,"endTime":1759849530888.591,"status":"passed","message":"","name":"/home/sam/mastra-governed-rag/tests/components/ThemeToggle.test.tsx"},{"assertionResults":[{"ancestorTitles":["Copywriter Agent Tool","successful content generation"],"fullName":"Copywriter Agent Tool successful content generation should generate blog content successfully with minimal parameters","status":"passed","title":"should generate blog content successfully with minimal parameters","duration":7.346275999999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","successful content generation"],"fullName":"Copywriter Agent Tool successful content generation should generate marketing content with all parameters","status":"passed","title":"should generate marketing content with all parameters","duration":1.678331000000071,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","successful content generation"],"fullName":"Copywriter Agent Tool successful content generation should generate social media content","status":"passed","title":"should generate social media content","duration":1.177306999999928,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","successful content generation"],"fullName":"Copywriter Agent Tool successful content generation should generate technical content","status":"passed","title":"should generate technical content","duration":0.8376060000000507,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","successful content generation"],"fullName":"Copywriter Agent Tool successful content generation should handle content without title","status":"passed","title":"should handle content without title","duration":0.6870639999999639,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","successful content generation"],"fullName":"Copywriter Agent Tool successful content generation should truncate long summaries","status":"passed","title":"should truncate long summaries","duration":0.6413740000000416,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","error handling"],"fullName":"Copywriter Agent Tool error handling should throw error for unsupported content type","status":"passed","title":"should throw error for unsupported content type","duration":2.9737789999999222,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","error handling"],"fullName":"Copywriter Agent Tool error handling should handle agent generation errors","status":"passed","title":"should handle agent generation errors","duration":1.0399359999998978,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","error handling"],"fullName":"Copywriter Agent Tool error handling should handle non-Error exceptions","status":"passed","title":"should handle non-Error exceptions","duration":1.299927999999909,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","tracing"],"fullName":"Copywriter Agent Tool tracing should create and end tracing spans correctly","status":"passed","title":"should create and end tracing spans correctly","duration":3.1936500000001615,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","tracing"],"fullName":"Copywriter Agent Tool tracing should handle tracing on error","status":"passed","title":"should handle tracing on error","duration":2.121973999999909,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","content parsing"],"fullName":"Copywriter Agent Tool content parsing should extract title from H1 headers","status":"passed","title":"should extract title from H1 headers","duration":0.6519140000000334,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","content parsing"],"fullName":"Copywriter Agent Tool content parsing should extract title from H2 headers","status":"passed","title":"should extract title from H2 headers","duration":0.6022239999999783,"failureMessages":[],"meta":{}},{"ancestorTitles":["Copywriter Agent Tool","content parsing"],"fullName":"Copywriter Agent Tool content parsing should calculate word count correctly","status":"passed","title":"should calculate word count correctly","duration":0.620984000000135,"failureMessages":[],"meta":{}}],"startTime":1759849532137,"endTime":1759849532162.621,"status":"passed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/tools/tests/copywriter-agent-tool.test.ts"},{"assertionResults":[{"ancestorTitles":["Data File Manager Tools","readDataFileTool"],"fullName":"Data File Manager Tools readDataFileTool should read file content successfully","status":"passed","title":"should read file content successfully","duration":10.538964999999735,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","readDataFileTool"],"fullName":"Data File Manager Tools readDataFileTool should throw error for path outside data directory","status":"passed","title":"should throw error for path outside data directory","duration":2.01129199999923,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","readDataFileTool"],"fullName":"Data File Manager Tools readDataFileTool should handle file read errors","status":"passed","title":"should handle file read errors","duration":0.7966550000001007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","writeDataFileTool"],"fullName":"Data File Manager Tools writeDataFileTool should write file content successfully","status":"passed","title":"should write file content successfully","duration":1.3415380000005825,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","writeDataFileTool"],"fullName":"Data File Manager Tools writeDataFileTool should create directory if it does not exist","status":"passed","title":"should create directory if it does not exist","duration":1.424179000001459,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","writeDataFileTool"],"fullName":"Data File Manager Tools writeDataFileTool should throw error for invalid directory path","status":"passed","title":"should throw error for invalid directory path","duration":0.6783739999991667,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","deleteDataFileTool"],"fullName":"Data File Manager Tools deleteDataFileTool should delete file successfully","status":"passed","title":"should delete file successfully","duration":1.3423390000007203,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","deleteDataFileTool"],"fullName":"Data File Manager Tools deleteDataFileTool should throw error for path outside data directory","status":"passed","title":"should throw error for path outside data directory","duration":0.5070930000001681,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","listDataDirTool"],"fullName":"Data File Manager Tools listDataDirTool should list directory contents successfully","status":"passed","title":"should list directory contents successfully","duration":1.392318999998679,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","listDataDirTool"],"fullName":"Data File Manager Tools listDataDirTool should use default path when dirPath is not provided","status":"passed","title":"should use default path when dirPath is not provided","duration":0.6877039999999397,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","copyDataFileTool"],"fullName":"Data File Manager Tools copyDataFileTool should copy file successfully","status":"passed","title":"should copy file successfully","duration":1.1815270000006421,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","copyDataFileTool"],"fullName":"Data File Manager Tools copyDataFileTool should create destination directory if needed","status":"passed","title":"should create destination directory if needed","duration":0.8143450000006851,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","moveDataFileTool"],"fullName":"Data File Manager Tools moveDataFileTool should move file successfully","status":"passed","title":"should move file successfully","duration":1.388918000000558,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","searchDataFilesTool"],"fullName":"Data File Manager Tools searchDataFilesTool should search files by name successfully","status":"passed","title":"should search files by name successfully","duration":1.2925979999999981,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","searchDataFilesTool"],"fullName":"Data File Manager Tools searchDataFilesTool should search file content when searchContent is true","status":"passed","title":"should search file content when searchContent is true","duration":0.7886950000010984,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","searchDataFilesTool"],"fullName":"Data File Manager Tools searchDataFilesTool should throw error for pattern too long","status":"passed","title":"should throw error for pattern too long","duration":0.6424540000007255,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","getDataFileInfoTool"],"fullName":"Data File Manager Tools getDataFileInfoTool should get file info successfully","status":"passed","title":"should get file info successfully","duration":1.204717000000528,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","createDataDirTool"],"fullName":"Data File Manager Tools createDataDirTool should create directory successfully","status":"passed","title":"should create directory successfully","duration":0.9771559999990131,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","removeDataDirTool"],"fullName":"Data File Manager Tools removeDataDirTool should remove empty directory successfully","status":"passed","title":"should remove empty directory successfully","duration":0.81606500000089,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","removeDataDirTool"],"fullName":"Data File Manager Tools removeDataDirTool should throw error for non-empty directory","status":"passed","title":"should throw error for non-empty directory","duration":0.6137840000010328,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","archiveDataTool"],"fullName":"Data File Manager Tools archiveDataTool should archive file successfully","status":"passed","title":"should archive file successfully","duration":3.283450000000812,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","backupDataTool"],"fullName":"Data File Manager Tools backupDataTool should create backup successfully","status":"passed","title":"should create backup successfully","duration":1.4181289999996807,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data File Manager Tools","backupDataTool"],"fullName":"Data File Manager Tools backupDataTool should use custom backup directory","status":"passed","title":"should use custom backup directory","duration":0.7746750000005704,"failureMessages":[],"meta":{}}],"startTime":1759849530595,"endTime":1759849530631.7747,"status":"passed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/tools/tests/data-file-manager.test.ts"},{"assertionResults":[{"ancestorTitles":["mastraChunker"],"fullName":"mastraChunker should validate input schema","status":"passed","title":"should validate input schema","duration":2.766928000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["mastraChunker"],"fullName":"mastraChunker should successfully chunk document with recursive strategy","status":"passed","title":"should successfully chunk document with recursive strategy","duration":3.035669000000098,"failureMessages":[],"meta":{}},{"ancestorTitles":["mastraChunker"],"fullName":"mastraChunker should handle different chunking strategies","status":"passed","title":"should handle different chunking strategies","duration":9.854172000000062,"failureMessages":[],"meta":{}},{"ancestorTitles":["mastraChunker"],"fullName":"mastraChunker should extract metadata when requested","status":"passed","title":"should extract metadata when requested","duration":1.524599999999964,"failureMessages":[],"meta":{}},{"ancestorTitles":["mastraChunker"],"fullName":"mastraChunker should handle chunking errors gracefully","status":"passed","title":"should handle chunking errors gracefully","duration":5.17867299999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["mastraChunker"],"fullName":"mastraChunker should handle tracing context without current span","status":"passed","title":"should handle tracing context without current span","duration":0.843996000000061,"failureMessages":[],"meta":{}}],"startTime":1759849532408,"endTime":1759849532430.844,"status":"passed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/tools/tests/document-chunking.tool.test.ts"},{"assertionResults":[{"ancestorTitles":["Editor Agent Tool","successful content editing"],"fullName":"Editor Agent Tool successful content editing should edit blog content successfully with minimal parameters","status":"passed","title":"should edit blog content successfully with minimal parameters","duration":7.050594000000046,"failureMessages":[],"meta":{}},{"ancestorTitles":["Editor Agent Tool","successful content editing"],"fullName":"Editor Agent Tool successful content editing should edit technical content with all parameters","status":"passed","title":"should edit technical content with all parameters","duration":1.5393199999998615,"failureMessages":[],"meta":{}},{"ancestorTitles":["Editor Agent Tool","successful content editing"],"fullName":"Editor Agent Tool successful content editing should edit business content","status":"passed","title":"should edit business content","duration":2.313514999999825,"failureMessages":[],"meta":{}},{"ancestorTitles":["Editor Agent Tool","successful content editing"],"fullName":"Editor Agent Tool successful content editing should handle non-JSON response with fallback parsing","status":"passed","title":"should handle non-JSON response with fallback parsing","duration":0.9984660000000076,"failureMessages":[],"meta":{}},{"ancestorTitles":["Editor Agent Tool","successful content editing"],"fullName":"Editor Agent Tool successful content editing should handle JSON response with missing fields","status":"passed","title":"should handle JSON response with missing fields","duration":1.0268169999999373,"failureMessages":[],"meta":{}},{"ancestorTitles":["Editor Agent Tool","successful content editing"],"fullName":"Editor Agent Tool successful content editing should handle JSON response with alternative field names","status":"passed","title":"should handle JSON response with alternative field names","duration":0.9057860000000346,"failureMessages":[],"meta":{}},{"ancestorTitles":["Editor Agent Tool","error handling"],"fullName":"Editor Agent Tool error handling should handle agent generation errors","status":"passed","title":"should handle agent generation errors","duration":2.750577000000021,"failureMessages":[],"meta":{}},{"ancestorTitles":["Editor Agent Tool","error handling"],"fullName":"Editor Agent Tool error handling should handle non-Error exceptions","status":"passed","title":"should handle non-Error exceptions","duration":0.9410860000000412,"failureMessages":[],"meta":{}},{"ancestorTitles":["Editor Agent Tool","tracing"],"fullName":"Editor Agent Tool tracing should create and end tracing spans correctly","status":"passed","title":"should create and end tracing spans correctly","duration":3.679683000000068,"failureMessages":[],"meta":{}},{"ancestorTitles":["Editor Agent Tool","tracing"],"fullName":"Editor Agent Tool tracing should handle tracing on error","status":"passed","title":"should handle tracing on error","duration":1.417799000000059,"failureMessages":[],"meta":{}}],"startTime":1759849531771,"endTime":1759849531794.4177,"status":"passed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/tools/tests/editor-agent-tool.test.ts"},{"assertionResults":[{"ancestorTitles":["Evaluate Result Tool","successful evaluation"],"fullName":"Evaluate Result Tool successful evaluation should evaluate result as relevant","status":"passed","title":"should evaluate result as relevant","duration":14.107358000000204,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evaluate Result Tool","successful evaluation"],"fullName":"Evaluate Result Tool successful evaluation should evaluate result as not relevant","status":"passed","title":"should evaluate result as not relevant","duration":1.7458709999998518,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evaluate Result Tool","successful evaluation"],"fullName":"Evaluate Result Tool successful evaluation should handle evaluation with existing URLs","status":"passed","title":"should handle evaluation with existing URLs","duration":1.8651319999999032,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evaluate Result Tool","URL filtering"],"fullName":"Evaluate Result Tool URL filtering should return false for already processed URL","status":"passed","title":"should return false for already processed URL","duration":2.149462999999969,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evaluate Result Tool","URL filtering"],"fullName":"Evaluate Result Tool URL filtering should proceed with evaluation when no existing URLs provided","status":"passed","title":"should proceed with evaluation when no existing URLs provided","duration":1.9196220000001176,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evaluate Result Tool","error handling"],"fullName":"Evaluate Result Tool error handling should handle agent generation errors","status":"passed","title":"should handle agent generation errors","duration":8.45607300000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evaluate Result Tool","error handling"],"fullName":"Evaluate Result Tool error handling should handle non-Error exceptions","status":"passed","title":"should handle non-Error exceptions","duration":2.059142999999949,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evaluate Result Tool","error handling"],"fullName":"Evaluate Result Tool error handling should handle mastra not available","status":"passed","title":"should handle mastra not available","duration":1.4670200000000477,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evaluate Result Tool","tracing"],"fullName":"Evaluate Result Tool tracing should create and end tracing spans correctly","status":"passed","title":"should create and end tracing spans correctly","duration":1.7629010000000562,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evaluate Result Tool","tracing"],"fullName":"Evaluate Result Tool tracing should handle tracing on error","status":"passed","title":"should handle tracing on error","duration":2.144513000000188,"failureMessages":[],"meta":{}}],"startTime":1759849531807,"endTime":1759849531845.1445,"status":"passed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/tools/tests/evaluateResultTool.test.ts"},{"assertionResults":[{"ancestorTitles":["Extract Learnings Tool","successful learning extraction"],"fullName":"Extract Learnings Tool successful learning extraction should extract learnings successfully with complete response","status":"passed","title":"should extract learnings successfully with complete response","duration":15.539537000000564,"failureMessages":[],"meta":{}},{"ancestorTitles":["Extract Learnings Tool","successful learning extraction"],"fullName":"Extract Learnings Tool successful learning extraction should handle content truncation for long content","status":"failed","title":"should handle content truncation for long content","duration":25.237726999999722,"failureMessages":["AssertionError: expected 'The user is researching \"long documen…' to contain 'Content: AAAAAA...'\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/extractLearningsTool.test.ts:142:34\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Extract Learnings Tool","successful learning extraction"],"fullName":"Extract Learnings Tool successful learning extraction should extract learnings with empty follow-up questions","status":"passed","title":"should extract learnings with empty follow-up questions","duration":3.1896789999991597,"failureMessages":[],"meta":{}},{"ancestorTitles":["Extract Learnings Tool","successful learning extraction"],"fullName":"Extract Learnings Tool successful learning extraction should handle special characters in content","status":"passed","title":"should handle special characters in content","duration":1.9321920000002137,"failureMessages":[],"meta":{}},{"ancestorTitles":["Extract Learnings Tool","error handling"],"fullName":"Extract Learnings Tool error handling should handle missing mastra instance","status":"passed","title":"should handle missing mastra instance","duration":3.076378999998269,"failureMessages":[],"meta":{}},{"ancestorTitles":["Extract Learnings Tool","error handling"],"fullName":"Extract Learnings Tool error handling should handle missing learningExtractionAgent","status":"passed","title":"should handle missing learningExtractionAgent","duration":0.9807959999998275,"failureMessages":[],"meta":{}},{"ancestorTitles":["Extract Learnings Tool","error handling"],"fullName":"Extract Learnings Tool error handling should handle agent generation errors","status":"passed","title":"should handle agent generation errors","duration":1.3465089999990596,"failureMessages":[],"meta":{}},{"ancestorTitles":["Extract Learnings Tool","error handling"],"fullName":"Extract Learnings Tool error handling should handle non-Error exceptions","status":"failed","title":"should handle non-Error exceptions","duration":3.816634000000704,"failureMessages":["AssertionError: expected { …(2) } to deeply equal { …(2) }\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/extractLearningsTool.test.ts:302:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Extract Learnings Tool","tracing"],"fullName":"Extract Learnings Tool tracing should create and end tracing spans correctly","status":"failed","title":"should create and end tracing spans correctly","duration":4.919141000000309,"failureMessages":["AssertionError: expected \"spy\" to be called with arguments: [ { type: Any<String>, …(2) } ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  [\u001b[22m\n\u001b[2m    {\u001b[22m\n\u001b[2m      \"input\": {\u001b[22m\n\u001b[32m-       \"contentLength\": 47,\u001b[90m\n\u001b[31m+       \"contentLength\": 45,\u001b[90m\n\u001b[2m        \"query\": \"tracing test query\",\u001b[22m\n\u001b[2m        \"url\": \"https://example.com/trace\",\u001b[22m\n\u001b[2m      },\u001b[22m\n\u001b[2m      \"name\": \"extract_learnings\",\u001b[22m\n\u001b[32m-     \"type\": Any<String>,\u001b[90m\n\u001b[31m+     \"type\": \"tool_call\",\u001b[90m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///home/sam/mastra-governed-rag/node_modules/@vitest/expect/dist/index.js:1355:10)\n    at Proxy.<anonymous> (file:///home/sam/mastra-governed-rag/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/sam/mastra-governed-rag/node_modules/chai/index.js:1686:25)\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/extractLearningsTool.test.ts:336:15\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Extract Learnings Tool","tracing"],"fullName":"Extract Learnings Tool tracing should handle tracing on error","status":"passed","title":"should handle tracing on error","duration":1.7874819999997271,"failureMessages":[],"meta":{}},{"ancestorTitles":["Extract Learnings Tool","tracing"],"fullName":"Extract Learnings Tool tracing should handle tracing with null response object","status":"passed","title":"should handle tracing with null response object","duration":1.1803170000002865,"failureMessages":[],"meta":{}},{"ancestorTitles":["Extract Learnings Tool","input validation"],"fullName":"Extract Learnings Tool input validation should handle empty content","status":"passed","title":"should handle empty content","duration":0.923715999999331,"failureMessages":[],"meta":{}},{"ancestorTitles":["Extract Learnings Tool","input validation"],"fullName":"Extract Learnings Tool input validation should handle very short content","status":"passed","title":"should handle very short content","duration":0.9481759999998758,"failureMessages":[],"meta":{}}],"startTime":1759849530555,"endTime":1759849530619.9482,"status":"failed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/tools/tests/extractLearningsTool.test.ts"},{"assertionResults":[{"ancestorTitles":["Graph RAG Query Tool","successful graph queries"],"fullName":"Graph RAG Query Tool successful graph queries should execute graph query successfully with default parameters","status":"failed","title":"should execute graph query successfully with default parameters","duration":27.214249999999083,"failureMessages":["AssertionError: expected { contexts: [ { …(9) }, { …(9) } ] } to deeply equal { contexts: [ { …(9) }, { …(9) } ] }\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/graph-rag-query.tool.test.ts:134:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Graph RAG Query Tool","successful graph queries"],"fullName":"Graph RAG Query Tool successful graph queries should execute graph query with custom parameters","status":"passed","title":"should execute graph query with custom parameters","duration":4.813449999999648,"failureMessages":[],"meta":{}},{"ancestorTitles":["Graph RAG Query Tool","successful graph queries"],"fullName":"Graph RAG Query Tool successful graph queries should handle empty results","status":"failed","title":"should handle empty results","duration":1.0158769999998185,"failureMessages":["TypeError: mockRuntimeContext.get.mockReturnValue(...)(...).mockResolvedValue is not a function\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/graph-rag-query.tool.test.ts:230:18\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Graph RAG Query Tool","successful graph queries"],"fullName":"Graph RAG Query Tool successful graph queries should disable graph traversal when includeRelated is false","status":"failed","title":"should disable graph traversal when includeRelated is false","duration":4.253265999999712,"failureMessages":["AssertionError: expected { text: 'Engineering context', …(6) } to have property \"relationshipScore\" with value 0.8\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/graph-rag-query.tool.test.ts:276:40\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Graph RAG Query Tool","error handling"],"fullName":"Graph RAG Query Tool error handling should throw error when access filter is missing","status":"passed","title":"should throw error when access filter is missing","duration":2.3929150000003574,"failureMessages":[],"meta":{}},{"ancestorTitles":["Graph RAG Query Tool","error handling"],"fullName":"Graph RAG Query Tool error handling should handle vector query service errors","status":"failed","title":"should handle vector query service errors","duration":0.8951660000002448,"failureMessages":["TypeError: mockRuntimeContext.get.mockReturnValue(...)(...).mockRejectedValue is not a function\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/graph-rag-query.tool.test.ts:302:18\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Graph RAG Query Tool","error handling"],"fullName":"Graph RAG Query Tool error handling should handle non-Error exceptions","status":"failed","title":"should handle non-Error exceptions","duration":0.6584540000003472,"failureMessages":["TypeError: mockRuntimeContext.get.mockReturnValue(...)(...).mockRejectedValue is not a function\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/graph-rag-query.tool.test.ts:321:18\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Graph RAG Query Tool","tracing"],"fullName":"Graph RAG Query Tool tracing should create and end tracing spans correctly","status":"passed","title":"should create and end tracing spans correctly","duration":2.816226999999344,"failureMessages":[],"meta":{}},{"ancestorTitles":["Graph RAG Query Tool","tracing"],"fullName":"Graph RAG Query Tool tracing should handle tracing on error","status":"failed","title":"should handle tracing on error","duration":0.9779959999996208,"failureMessages":["TypeError: mockRuntimeContext.get.mockReturnValue(...)(...).mockRejectedValue is not a function\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/graph-rag-query.tool.test.ts:402:18\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Graph RAG Query Tool","validation"],"fullName":"Graph RAG Query Tool validation should validate environment variables","status":"failed","title":"should validate environment variables","duration":0.735674999999901,"failureMessages":["TypeError: mockRuntimeContext.get.mockReturnValue(...)(...).mockResolvedValue is not a function\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/graph-rag-query.tool.test.ts:432:18\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Graph RAG Query Tool","request tracking"],"fullName":"Graph RAG Query Tool request tracking should generate request ID when not in context","status":"failed","title":"should generate request ID when not in context","duration":0.7247149999984686,"failureMessages":["TypeError: mockRuntimeContext.get.mockReturnValue(...)(...).mockResolvedValue is not a function\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/graph-rag-query.tool.test.ts:461:18\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Graph RAG Query Tool","request tracking"],"fullName":"Graph RAG Query Tool request tracking should extract request ID from context","status":"failed","title":"should extract request ID from context","duration":0.6851539999988745,"failureMessages":["TypeError: mockRuntimeContext.get.mockReturnValue(...)(...).mockResolvedValue is not a function\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/graph-rag-query.tool.test.ts:481:18\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}}],"startTime":1759849530559,"endTime":1759849530607.685,"status":"failed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/tools/tests/graph-rag-query.tool.test.ts"},{"assertionResults":[{"ancestorTitles":["jwtAuthTool"],"fullName":"jwtAuthTool should successfully verify JWT and return claims","status":"passed","title":"should successfully verify JWT and return claims","duration":5.007321999999931,"failureMessages":[],"meta":{}},{"ancestorTitles":["jwtAuthTool"],"fullName":"jwtAuthTool should throw error when JWT not found in runtime context","status":"passed","title":"should throw error when JWT not found in runtime context","duration":1.8643119999999271,"failureMessages":[],"meta":{}},{"ancestorTitles":["jwtAuthTool"],"fullName":"jwtAuthTool should handle JWT verification errors","status":"passed","title":"should handle JWT verification errors","duration":0.7150440000000344,"failureMessages":[],"meta":{}},{"ancestorTitles":["jwtAuthTool"],"fullName":"jwtAuthTool should handle tracing context without current span","status":"passed","title":"should handle tracing context without current span","duration":0.3971319999998286,"failureMessages":[],"meta":{}}],"startTime":1759849532193,"endTime":1759849532200.715,"status":"passed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/tools/tests/jwt-auth.tool.test.ts"},{"assertionResults":[{"ancestorTitles":["vectorQueryTool"],"fullName":"vectorQueryTool should successfully query vector database","status":"passed","title":"should successfully query vector database","duration":9.140728000000081,"failureMessages":[],"meta":{}},{"ancestorTitles":["vectorQueryTool"],"fullName":"vectorQueryTool should throw error when access filter not found","status":"passed","title":"should throw error when access filter not found","duration":1.790510999999924,"failureMessages":[],"meta":{}},{"ancestorTitles":["vectorQueryTool"],"fullName":"vectorQueryTool should handle validation errors","status":"passed","title":"should handle validation errors","duration":0.6974649999999656,"failureMessages":[],"meta":{}},{"ancestorTitles":["vectorQueryTool"],"fullName":"vectorQueryTool should handle vector query service errors","status":"passed","title":"should handle vector query service errors","duration":1.3202179999998407,"failureMessages":[],"meta":{}},{"ancestorTitles":["vectorQueryTool"],"fullName":"vectorQueryTool should use default topK when not provided","status":"passed","title":"should use default topK when not provided","duration":1.7373310000000401,"failureMessages":[],"meta":{}},{"ancestorTitles":["vectorQueryTool"],"fullName":"vectorQueryTool should use custom similarity threshold from environment","status":"passed","title":"should use custom similarity threshold from environment","duration":1.0652370000000246,"failureMessages":[],"meta":{}},{"ancestorTitles":["vectorQueryTool"],"fullName":"vectorQueryTool should handle tracing context without current span","status":"passed","title":"should handle tracing context without current span","duration":0.766885000000002,"failureMessages":[],"meta":{}}],"startTime":1759849532286,"endTime":1759849532302.7668,"status":"passed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/tools/tests/vector-query.tool.test.ts"},{"assertionResults":[{"ancestorTitles":["weatherTool"],"fullName":"weatherTool should successfully fetch weather data","status":"passed","title":"should successfully fetch weather data","duration":16.21025099999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["weatherTool"],"fullName":"weatherTool should handle location not found","status":"passed","title":"should handle location not found","duration":5.0740820000000895,"failureMessages":[],"meta":{}},{"ancestorTitles":["weatherTool"],"fullName":"weatherTool should handle API errors","status":"passed","title":"should handle API errors","duration":3.524842000000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["weatherTool"],"fullName":"weatherTool should use fahrenheit when specified","status":"passed","title":"should use fahrenheit when specified","duration":2.0352130000001125,"failureMessages":[],"meta":{}},{"ancestorTitles":["weatherTool"],"fullName":"weatherTool should handle tracing context errors","status":"passed","title":"should handle tracing context errors","duration":2.073552999999947,"failureMessages":[],"meta":{}}],"startTime":1759849531854,"endTime":1759849531883.0735,"status":"passed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/tools/tests/weather-tool.test.ts"},{"assertionResults":[{"ancestorTitles":["Web Scraper Tool Tests","HtmlProcessor","sanitizeHtml"],"fullName":"Web Scraper Tool Tests HtmlProcessor sanitizeHtml should sanitize HTML by removing script and style tags","status":"failed","title":"should sanitize HTML by removing script and style tags","duration":59.200769999999466,"failureMessages":["AssertionError: expected '<h1>Hello</h1>' to be '<html><head></head><body><h1>Hello</h…' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:197:32\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","HtmlProcessor","sanitizeHtml"],"fullName":"Web Scraper Tool Tests HtmlProcessor sanitizeHtml should handle empty HTML","status":"failed","title":"should handle empty HTML","duration":15.129243999999744,"failureMessages":["AssertionError: expected '' to be '<html><head></head><body></body></htm…' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:204:32\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","HtmlProcessor","sanitizeHtml"],"fullName":"Web Scraper Tool Tests HtmlProcessor sanitizeHtml should handle HTML with only script tags","status":"failed","title":"should handle HTML with only script tags","duration":15.734277999999904,"failureMessages":["AssertionError: expected '' to be '<html><head></head><body></body></htm…' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:210:32\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","HtmlProcessor","sanitizeHtml"],"fullName":"Web Scraper Tool Tests HtmlProcessor sanitizeHtml should handle JSDOM errors gracefully","status":"failed","title":"should handle JSDOM errors gracefully","duration":1.2293270000009215,"failureMessages":["TypeError: mockJSDOM.mockImplementationOnce is not a function\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:214:27\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","HtmlProcessor","extractTextContent"],"fullName":"Web Scraper Tool Tests HtmlProcessor extractTextContent should extract text content from HTML","status":"failed","title":"should extract text content from HTML","duration":26.22995400000036,"failureMessages":["TypeError: [Function JSDOM] is not a spy or a call to a spy!\n    at assertIsMock (file:///home/sam/mastra-governed-rag/node_modules/@vitest/expect/dist/index.js:1299:10)\n    at getSpy (file:///home/sam/mastra-governed-rag/node_modules/@vitest/expect/dist/index.js:1303:3)\n    at Proxy.<anonymous> (file:///home/sam/mastra-governed-rag/node_modules/@vitest/expect/dist/index.js:1344:15)\n    at Proxy.<anonymous> (file:///home/sam/mastra-governed-rag/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/sam/mastra-governed-rag/node_modules/chai/index.js:1686:25)\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:231:35\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","HtmlProcessor","extractTextContent"],"fullName":"Web Scraper Tool Tests HtmlProcessor extractTextContent should handle empty HTML","status":"passed","title":"should handle empty HTML","duration":8.543433000000732,"failureMessages":[],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","HtmlProcessor","extractTextContent"],"fullName":"Web Scraper Tool Tests HtmlProcessor extractTextContent should handle HTML parsing errors","status":"failed","title":"should handle HTML parsing errors","duration":0.8031849999988481,"failureMessages":["TypeError: mockJSDOM.mockImplementation is not a function\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:240:27\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","HtmlProcessor","htmlToMarkdown"],"fullName":"Web Scraper Tool Tests HtmlProcessor htmlToMarkdown should convert HTML to markdown","status":"passed","title":"should convert HTML to markdown","duration":23.584356999999727,"failureMessages":[],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","HtmlProcessor","htmlToMarkdown"],"fullName":"Web Scraper Tool Tests HtmlProcessor htmlToMarkdown should handle empty HTML","status":"passed","title":"should handle empty HTML","duration":26.53112499999952,"failureMessages":[],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","HtmlProcessor","htmlToMarkdown"],"fullName":"Web Scraper Tool Tests HtmlProcessor htmlToMarkdown should handle conversion errors","status":"failed","title":"should handle conversion errors","duration":0.8056049999995594,"failureMessages":["TypeError: mockJSDOM.mockImplementation is not a function\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:266:27\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","HtmlProcessor","sanitizeMarkdown"],"fullName":"Web Scraper Tool Tests HtmlProcessor sanitizeMarkdown should sanitize markdown by removing dangerous HTML","status":"passed","title":"should sanitize markdown by removing dangerous HTML","duration":0.729685000000245,"failureMessages":[],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","ValidationUtils","validateUrl"],"fullName":"Web Scraper Tool Tests ValidationUtils validateUrl should validate valid URLs","status":"passed","title":"should validate valid URLs","duration":2.3388140000006388,"failureMessages":[],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","ValidationUtils","validateUrl"],"fullName":"Web Scraper Tool Tests ValidationUtils validateUrl should reject invalid URLs","status":"failed","title":"should reject invalid URLs","duration":0.9869360000011511,"failureMessages":["AssertionError: expected function to throw an error, but it didn't\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:301:72\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","ValidationUtils","sanitizeFileName"],"fullName":"Web Scraper Tool Tests ValidationUtils sanitizeFileName should sanitize filenames by removing invalid characters","status":"failed","title":"should sanitize filenames by removing invalid characters","duration":2.241833999998562,"failureMessages":["AssertionError: expected 'file_name_.txt' to be 'filename.txt' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:315:76\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","ValidationUtils","sanitizeFileName"],"fullName":"Web Scraper Tool Tests ValidationUtils sanitizeFileName should handle empty filenames","status":"failed","title":"should handle empty filenames","duration":1.1351070000000618,"failureMessages":["AssertionError: expected '' to be 'untitled' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:327:62\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","ValidationUtils","sanitizeFileName"],"fullName":"Web Scraper Tool Tests ValidationUtils sanitizeFileName should handle filenames with only invalid characters","status":"failed","title":"should handle filenames with only invalid characters","duration":1.1144270000004326,"failureMessages":["AssertionError: expected '_______' to be 'untitled' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:331:69\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","ValidationUtils","validateFilePath"],"fullName":"Web Scraper Tool Tests ValidationUtils validateFilePath should validate file paths within intended directory","status":"passed","title":"should validate file paths within intended directory","duration":0.5452430000004824,"failureMessages":[],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","ValidationUtils","validateFilePath"],"fullName":"Web Scraper Tool Tests ValidationUtils validateFilePath should reject file paths outside intended directory","status":"failed","title":"should reject file paths outside intended directory","duration":0.6817149999988033,"failureMessages":["AssertionError: expected function to throw an error, but it didn't\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:353:19\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","ScrapingError"],"fullName":"Web Scraper Tool Tests ScrapingError should create error with message","status":"passed","title":"should create error with message","duration":0.5251729999999952,"failureMessages":[],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","ScrapingError"],"fullName":"Web Scraper Tool Tests ScrapingError should create error with message and additional details","status":"passed","title":"should create error with message and additional details","duration":0.418853000001036,"failureMessages":[],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","webScraperTool"],"fullName":"Web Scraper Tool Tests webScraperTool should scrape a webpage and return content","status":"failed","title":"should scrape a webpage and return content","duration":14.584230999998908,"failureMessages":["AssertionError: expected 'failed' to be 'success' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:392:35\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","webScraperTool"],"fullName":"Web Scraper Tool Tests webScraperTool should handle scraping errors","status":"failed","title":"should handle scraping errors","duration":8.086699999999837,"failureMessages":["Error: promise resolved \"{ url: 'https://example.com', …(6) }\" instead of rejecting\n    at _Assertion.__VITEST_REJECTS__ (file:///home/sam/mastra-governed-rag/node_modules/@vitest/expect/dist/index.js:1610:17)\n    at _Assertion.propertyGetter (file:///home/sam/mastra-governed-rag/node_modules/chai/index.js:1557:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///home/sam/mastra-governed-rag/node_modules/chai/index.js:1645:22)\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:403:13\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","webScraperTool"],"fullName":"Web Scraper Tool Tests webScraperTool should validate URL before scraping","status":"failed","title":"should validate URL before scraping","duration":4.039114999999583,"failureMessages":["Error: promise resolved \"{ error: true, …(2) }\" instead of rejecting\n    at _Assertion.__VITEST_REJECTS__ (file:///home/sam/mastra-governed-rag/node_modules/@vitest/expect/dist/index.js:1610:17)\n    at _Assertion.propertyGetter (file:///home/sam/mastra-governed-rag/node_modules/chai/index.js:1557:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///home/sam/mastra-governed-rag/node_modules/chai/index.js:1645:22)\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:413:13\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","htmlToMarkdownTool"],"fullName":"Web Scraper Tool Tests htmlToMarkdownTool should convert HTML to markdown successfully","status":"passed","title":"should convert HTML to markdown successfully","duration":36.612059000000954,"failureMessages":[],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","htmlToMarkdownTool"],"fullName":"Web Scraper Tool Tests htmlToMarkdownTool should handle conversion errors","status":"failed","title":"should handle conversion errors","duration":0.7624340000002121,"failureMessages":["TypeError: mockJSDOM.mockImplementationOnce is not a function\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:431:23\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","batchWebScraperTool"],"fullName":"Web Scraper Tool Tests batchWebScraperTool should scrape multiple URLs","status":"failed","title":"should scrape multiple URLs","duration":5.82540599999993,"failureMessages":["AssertionError: expected [] to have a length of 2 but got +0\n    at Proxy.<anonymous> (file:///home/sam/mastra-governed-rag/node_modules/@vitest/expect/dist/index.js:1257:20)\n    at Proxy.<anonymous> (file:///home/sam/mastra-governed-rag/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/sam/mastra-governed-rag/node_modules/chai/index.js:1686:25)\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:456:36\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","batchWebScraperTool"],"fullName":"Web Scraper Tool Tests batchWebScraperTool should handle invalid URLs in batch","status":"failed","title":"should handle invalid URLs in batch","duration":2.020542000000205,"failureMessages":["AssertionError: Target cannot be null or undefined.\n    at Proxy.<anonymous> (file:///home/sam/mastra-governed-rag/node_modules/@vitest/expect/dist/index.js:1257:20)\n    at Proxy.<anonymous> (file:///home/sam/mastra-governed-rag/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/sam/mastra-governed-rag/node_modules/chai/index.js:1686:25)\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:469:36\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","siteMapExtractorTool"],"fullName":"Web Scraper Tool Tests siteMapExtractorTool should extract site map from URL","status":"failed","title":"should extract site map from URL","duration":8.837344999999914,"failureMessages":["AssertionError: expected 0 to be greater than or equal to 1\n    at /home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts:486:39\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","linkExtractorTool"],"fullName":"Web Scraper Tool Tests linkExtractorTool should extract links from HTML","status":"failed","title":"should extract links from HTML","duration":7.939790000000357,"failureMessages":["ScrapingError: Failed to retrieve page content (code=NO_CONTENT)\n    at execute (/home/sam/mastra-governed-rag/src/mastra/tools/web-scraper-tool.ts:1281:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","listScrapedContentTool"],"fullName":"Web Scraper Tool Tests listScrapedContentTool should list scraped content files","status":"passed","title":"should list scraped content files","duration":3.979403999999704,"failureMessages":[],"meta":{}},{"ancestorTitles":["Web Scraper Tool Tests","contentCleanerTool"],"fullName":"Web Scraper Tool Tests contentCleanerTool should clean HTML content","status":"passed","title":"should clean HTML content","duration":11.785902999999962,"failureMessages":[],"meta":{}}],"startTime":1759849530773,"endTime":1759849531067.786,"status":"failed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/tools/tests/web-scraper-tool.test.ts"},{"assertionResults":[{"ancestorTitles":["chatWorkflow"],"fullName":"chatWorkflow should execute workflow with valid input data and return response","status":"passed","title":"should execute workflow with valid input data and return response","duration":5.741796999998769,"failureMessages":[],"meta":{}},{"ancestorTitles":["chatWorkflow"],"fullName":"chatWorkflow should handle prompt without temperature","status":"passed","title":"should handle prompt without temperature","duration":1.8386510000000271,"failureMessages":[],"meta":{}},{"ancestorTitles":["chatWorkflow"],"fullName":"chatWorkflow should handle prompt without maxTokens","status":"passed","title":"should handle prompt without maxTokens","duration":1.0046569999994972,"failureMessages":[],"meta":{}},{"ancestorTitles":["chatWorkflow"],"fullName":"chatWorkflow should handle custom temperature and maxTokens","status":"passed","title":"should handle custom temperature and maxTokens","duration":2.2751439999992726,"failureMessages":[],"meta":{}},{"ancestorTitles":["chatWorkflow"],"fullName":"chatWorkflow should handle streaming with memory context","status":"passed","title":"should handle streaming with memory context","duration":1.1020169999992504,"failureMessages":[],"meta":{}},{"ancestorTitles":["chatWorkflow"],"fullName":"chatWorkflow should include systemPrompt when provided","status":"passed","title":"should include systemPrompt when provided","duration":0.792833999999857,"failureMessages":[],"meta":{}},{"ancestorTitles":["chatWorkflow"],"fullName":"chatWorkflow should handle prompt with conversation context","status":"passed","title":"should handle prompt with conversation context","duration":0.5877540000001318,"failureMessages":[],"meta":{}},{"ancestorTitles":["chatWorkflow"],"fullName":"chatWorkflow should handle agent errors gracefully","status":"passed","title":"should handle agent errors gracefully","duration":3.3790119999994204,"failureMessages":[],"meta":{}}],"startTime":1759849532441,"endTime":1759849532458.379,"status":"passed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/workflows/tests/chatWorkflow.test.ts"},{"assertionResults":[{"ancestorTitles":["chatWorkflow1"],"fullName":"chatWorkflow1 should execute workflow with valid input data and return response","status":"failed","title":"should execute workflow with valid input data and return response","duration":75.14706899999874,"failureMessages":["AssertionError: expected 'failed' to be 'success' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/workflows/tests/chatWorkflow1.test.ts:41:32\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["chatWorkflow1"],"fullName":"chatWorkflow1 should handle prompt without temperature","status":"failed","title":"should handle prompt without temperature","duration":5.90321700000095,"failureMessages":["AssertionError: expected 'failed' to be 'success' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/workflows/tests/chatWorkflow1.test.ts:63:32\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["chatWorkflow1"],"fullName":"chatWorkflow1 should handle prompt without maxTokens","status":"failed","title":"should handle prompt without maxTokens","duration":4.699020000000019,"failureMessages":["AssertionError: expected 'failed' to be 'success' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/workflows/tests/chatWorkflow1.test.ts:82:32\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["chatWorkflow1"],"fullName":"chatWorkflow1 should handle custom temperature and maxTokens","status":"failed","title":"should handle custom temperature and maxTokens","duration":16.73988400000053,"failureMessages":["AssertionError: expected 'failed' to be 'success' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/workflows/tests/chatWorkflow1.test.ts:102:32\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["chatWorkflow1"],"fullName":"chatWorkflow1 should include systemPrompt when provided","status":"failed","title":"should include systemPrompt when provided","duration":4.970990999998321,"failureMessages":["AssertionError: expected 'failed' to be 'success' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/workflows/tests/chatWorkflow1.test.ts:139:32\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["chatWorkflow1"],"fullName":"chatWorkflow1 should handle structured output with action type","status":"failed","title":"should handle structured output with action type","duration":3.159349999999904,"failureMessages":["AssertionError: expected 'failed' to be 'success' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/workflows/tests/chatWorkflow1.test.ts:177:32\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["chatWorkflow1"],"fullName":"chatWorkflow1 should handle structured output with complete type","status":"failed","title":"should handle structured output with complete type","duration":2.7991670000010345,"failureMessages":["AssertionError: expected 'failed' to be 'success' // Object.is equality\n    at /home/sam/mastra-governed-rag/src/mastra/workflows/tests/chatWorkflow1.test.ts:210:32\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///home/sam/mastra-governed-rag/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["chatWorkflow1"],"fullName":"chatWorkflow1 should handle agent errors gracefully","status":"passed","title":"should handle agent errors gracefully","duration":2.0168629999989207,"failureMessages":[],"meta":{}}],"startTime":1759849530682,"endTime":1759849530797.0168,"status":"failed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/workflows/tests/chatWorkflow1.test.ts"},{"assertionResults":[{"ancestorTitles":["contentGenerationWorkflow"],"fullName":"contentGenerationWorkflow should execute workflow with valid input data and return final content","status":"passed","title":"should execute workflow with valid input data and return final content","duration":84.1663950000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["contentGenerationWorkflow"],"fullName":"contentGenerationWorkflow should use default tone when not provided","status":"passed","title":"should use default tone when not provided","duration":9.087806999999884,"failureMessages":[],"meta":{}},{"ancestorTitles":["contentGenerationWorkflow"],"fullName":"contentGenerationWorkflow should generate content for different content types","status":"passed","title":"should generate content for different content types","duration":17.464278999999806,"failureMessages":[],"meta":{}},{"ancestorTitles":["contentGenerationWorkflow"],"fullName":"contentGenerationWorkflow should stream workflow events during execution","status":"passed","title":"should stream workflow events during execution","duration":4.234086000000389,"failureMessages":[],"meta":{}},{"ancestorTitles":["contentGenerationWorkflow"],"fullName":"contentGenerationWorkflow should track token usage from AI calls","status":"passed","title":"should track token usage from AI calls","duration":3.5951719999993657,"failureMessages":[],"meta":{}},{"ancestorTitles":["contentGenerationWorkflow"],"fullName":"contentGenerationWorkflow should handle Cedar context if provided","status":"passed","title":"should handle Cedar context if provided","duration":3.874444000000949,"failureMessages":[],"meta":{}},{"ancestorTitles":["contentGenerationWorkflow"],"fullName":"contentGenerationWorkflow should respect minQualityScore threshold","status":"passed","title":"should respect minQualityScore threshold","duration":4.085395000000062,"failureMessages":[],"meta":{}}],"startTime":1759849530739,"endTime":1759849530866.0854,"status":"passed","message":"","name":"/home/sam/mastra-governed-rag/src/mastra/workflows/tests/contentGenerationWorkflow.test.ts"}]}