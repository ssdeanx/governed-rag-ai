---
title: Mastra Backend — Governed RAG
summary: Architecture, configuration, API reference, security model, and operational guidance for the Mastra backend used by this project.
---

import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'
import { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/ui/tabs'
import { Badge } from '@/components/ui/badge'
import { Button } from '@/components/ui/button'
import { Alert, AlertTitle, AlertDescription } from '@/components/ui/alert'
import { Separator } from '@/components/ui/separator'
import { Mermaid } from '@/components/Mermaid'
import {
    Terminal,
    Shield,
    Database,
    Users,
    Zap,
    Brain,
    FileText,
    Search,
    CheckCircle,
} from 'lucide-react'

<!-- Title is set in frontmatter (avoid duplicate H1) -->

<!-- toc -->

<Card>
    <CardHeader>
        <CardTitle>Overview</CardTitle>
    </CardHeader>
    <CardContent>
        This document describes the Mastra backend that powers the Governed RAG
        system in this repository. It covers architecture, security, API
        endpoints, deployment notes, and quick operational examples.
    </CardContent>
</Card>

<Separator className="my-4" />

## Architecture

<Tabs defaultValue="system">
  <TabsList>
    <TabsTrigger value="system">System</TabsTrigger>
    <TabsTrigger value="agents">Agents</TabsTrigger>
    <TabsTrigger value="storage">Storage</TabsTrigger>
    <TabsTrigger value="observability">Observability</TabsTrigger>
  </TabsList>

  <TabsContent value="system">
    <h3 className="text-lg font-semibold">High-level Components</h3>
    <ul className="list-disc ml-6">
      <li><b>Mastra Server</b> — Orchestrates agents, enforces policies, and provides an API surface for the frontend and CI systems.</li>
      <li><b>Agents</b> — 15+ specialized agents for retrieval, research, content generation, evaluation, and more.</li>
      <li><b>Vector Store</b> — Qdrant vector database for high-performance similarity search with 3072-dimension embeddings.</li>
      <li><b>Storage</b> — LibSQL for metadata and conversation storage with built-in vector support.</li>
      <li><b>Auth & Session</b> — Mastra JWT authentication with role-based access control.</li>
      <li><b>Memory</b> — Advanced conversation memory with thread management and context persistence.</li>
    </ul>

    <h4 className="text-md font-semibold mt-4">System Architecture Diagram</h4>
    <div className="bg-slate-50 dark:bg-slate-900 p-4 rounded-lg border">
      <Mermaid chart={`graph TB
        A[Next.js Frontend] --> B[API Routes]
        B --> C[Mastra Server]
        C --> D[Agent Orchestrator]
        D --> E[15+ Specialized Agents]
        E --> F[Qdrant Vector DB]
        E --> G[LibSQL Storage]
        C --> H[Mastra Auth]
        C --> I[Memory System]
        F --> J[3072D Embeddings]
        G --> K[Thread Management]

        classDef frontend fill:#e1f5fe,stroke:#01579b,stroke-width:2px
        classDef backend fill:#fff3e0,stroke:#e65100,stroke-width:2px
        classDef storage fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
        classDef ai fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px

        class A,B frontend
        class C,D,H,I backend
        class F,G,J,K storage
        class E ai

`} />

</div>

  </TabsContent>

  <TabsContent value="agents">
    <h3 className="text-lg font-semibold">Agents & Workflows</h3>
    <p>15+ specialized agents configured in <code>src/mastra/agents/</code> and orchestrated through workflows in <code>src/mastra/workflows/</code>.</p>

    <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
      <Card>
        <CardHeader>
          <CardTitle className="text-sm">Core RAG Agents</CardTitle>
        </CardHeader>
        <CardContent>
          <ul className="text-sm space-y-1">
            <li><Badge variant="outline" className="mr-2">retrieve</Badge>Document retrieval with access control</li>
            <li><Badge variant="outline" className="mr-2">rerank</Badge>Result relevance ranking</li>
            <li><Badge variant="outline" className="mr-2">answerer</Badge>Response generation</li>
            <li><Badge variant="outline" className="mr-2">verifier</Badge>Content verification & security</li>
          </ul>
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle className="text-sm">Advanced Agents</CardTitle>
        </CardHeader>
        <CardContent>
          <ul className="text-sm space-y-1">
            <li><Badge variant="outline" className="mr-2">research</Badge>Deep research capabilities</li>
            <li><Badge variant="outline" className="mr-2">report</Badge>Report generation</li>
            <li><Badge variant="outline" className="mr-2">copywriter</Badge>Content optimization</li>
            <li><Badge variant="outline" className="mr-2">evaluation</Badge>Quality assessment</li>
            <li><Badge variant="outline" className="mr-2">editor</Badge>Content editing</li>
            <li><Badge variant="outline" className="mr-2">roadmap</Badge>Product planning</li>
          </ul>
        </CardContent>
      </Card>
    </div>

    <h4 className="text-md font-semibold mt-4">Real Agent Example: Retrieve Agent</h4>
    <pre className="bg-slate-100 dark:bg-slate-800 p-4 rounded text-sm overflow-x-auto">

{`import { Agent } from "@mastra/core";
import { google } from "@ai-sdk/google";
import { vectorQueryTool } from "../tools/vector-query.tool";
import { createResearchMemory } from '../config/libsql-storage';

const memory = createResearchMemory();

export const retrieveAgent = new Agent({
  id: "retrieve",
  name: "retrieve",
  model: google('gemini-2.5-flash-lite'),
  description: "A document retrieval agent that retrieves relevant documents based on a user's question and access level.",
  instructions: \`You are a document retrieval agent. You MUST call vectorQueryTool EXACTLY ONCE and ONLY return its results.

**MANDATORY STEPS:**

1.  Parse input JSON for 'question' and 'access' fields
2.  Call vectorQueryTool EXACTLY ONCE with these exact parameters:
    - question: the question from input
    - allowTags: from access.allowTags array
    - maxClassification: from access.maxClassification (NEVER change this value)
    - topK: 8
3.  Return ONLY what the tool returns - never add your own content\`,
    memory,
    tools: { vectorQueryTool }
    });`}

    </pre>

        <h4 className="text-md font-semibold mt-4">Real Tool Example: Vector Query Tool</h4>


        <pre className="bg-slate-100 dark:bg-slate-800 p-4 rounded text-sm overflow-x-auto">

{`import { createTool } from "@mastra/core/tools";
import { z } from "zod";

export const vectorQueryTool = createTool({
  id: "vector-query",
  description: "Qdrant query with allowTags + classification filter",
  inputSchema: z.object({
    question: z.string(),
    allowTags: z.array(z.string()),
    maxClassification: z.enum(["public","internal","confidential"]),
    topK: z.number()
  }),
  outputSchema: z.object({
    contexts: z.array(z.object({
      text: z.string(),
      docId: z.string(),
      versionId: z.string(),
      source: z.string(),
      score: z.number(),
      securityTags: z.array(z.string()),
      classification: z.enum(["public","internal","confidential"])
    }))
  }),
  execute: async ({ context, mastra }) => {
    // Real implementation with Qdrant queries and security filtering
    // ... actual implementation code ...
  }
});`}
    </pre>

    <h4 className="text-md font-semibold mt-4">Agent Workflow Architecture</h4>
    <div className="bg-slate-50 dark:bg-slate-900 p-4 rounded-lg border">
      <Mermaid chart={`graph LR
        A[User Query] --> B[Access Control]
        B --> C[Retrieve Agent]
        C --> D[Rerank Agent]
        D --> E[Answerer Agent]
        E --> F[Verifier Agent]
        F --> G[Final Response]

        B --> B1[403: Access Denied]
        C --> C1[Research Agent]
        D --> D1[Copywriter Agent]
        E --> E1[Report Agent]

        classDef core fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
        classDef advanced fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
        classDef error fill:#ffebee,stroke:#c62828,stroke-width:2px

        class A,B,C,D,E,F,G core
        class C1,D1,E1 advanced
        class B1 error

`} />

</div>

    <Alert variant="default" className="mt-4">
      <Shield className="h-4 w-4" />
      <AlertTitle>Security Integration</AlertTitle>
      <AlertDescription>
        All agents include security checks and access control. Secrets are managed via environment variables and never committed to code.
      </AlertDescription>
    </Alert>

  </TabsContent>

  <TabsContent value="storage">
    <h3 className="text-lg font-semibold">Storage Architecture</h3>
    <p>Dual storage system optimized for different data types and access patterns.</p>

    <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
      <Card>
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <Database className="h-5 w-5 text-blue-600" />
            LibSQL Storage
          </CardTitle>
        </CardHeader>
        <CardContent>
          <ul className="text-sm space-y-1">
            <li><CheckCircle className="h-3 w-3 text-green-500 inline mr-2" />Metadata and conversations</li>
            <li><CheckCircle className="h-3 w-3 text-green-500 inline mr-2" />Thread management</li>
            <li><CheckCircle className="h-3 w-3 text-green-500 inline mr-2" />User sessions</li>
            <li><CheckCircle className="h-3 w-3 text-green-500 inline mr-2" />Audit logs</li>
          </ul>
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <Search className="h-5 w-5 text-purple-600" />
            Qdrant Vector DB
          </CardTitle>
        </CardHeader>
        <CardContent>
          <ul className="text-sm space-y-1">
            <li><CheckCircle className="h-3 w-3 text-green-500 inline mr-2" />3072D embeddings</li>
            <li><CheckCircle className="h-3 w-3 text-green-500 inline mr-2" />Cosine similarity</li>
            <li><CheckCircle className="h-3 w-3 text-green-500 inline mr-2" />High-performance search</li>
            <li><CheckCircle className="h-3 w-3 text-green-500 inline mr-2" />Filtered retrieval</li>
          </ul>
        </CardContent>
      </Card>
    </div>

    <h4 className="text-md font-semibold mt-4">Storage Flow</h4>
    <div className="bg-slate-50 dark:bg-slate-900 p-4 rounded-lg border">
      <Mermaid chart={`graph TD
        A[Document Input] --> B[Text Processing]
        B --> C[Embedding Generation]
        C --> D[Qdrant Storage]
        C --> E[Metadata Storage]
        E --> F[LibSQL Database]

        D --> G[Vector Search]
        F --> H[Thread Retrieval]
        G --> I[Similarity Results]
        H --> J[Context Assembly]

        classDef process fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
        classDef storage fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
        classDef retrieval fill:#fff3e0,stroke:#e65100,stroke-width:2px

        class A,B,C process
        class D,E,F storage
        class G,H,I,J retrieval

`} />

</div>

  </TabsContent>

  <TabsContent value="observability">
    <h3 className="text-lg font-semibold">Observability & Monitoring</h3>
    <p>Comprehensive monitoring with structured logging, AI tracing, and performance metrics.</p>

    <div className="space-y-4">
      <Card>
        <CardHeader>
          <CardTitle>Logging & Tracing</CardTitle>
        </CardHeader>
        <CardContent>
          <ul className="space-y-2">
            <li><strong>Structured Logging:</strong> Pino logger with custom transports</li>
            <li><strong>AI Tracing:</strong> Langfuse integration for LLM observability</li>
            <li><strong>Performance Metrics:</strong> Request latency, token usage, error rates</li>
            <li><strong>Audit Trails:</strong> Complete user action history</li>
          </ul>
        </CardContent>
      </Card>

      <Alert>
        <Brain className="h-4 w-4" />
        <AlertTitle>AI Model Monitoring</AlertTitle>
        <AlertDescription>
          Tracks Google Gemini 2.5 Flash usage, OpenAI GPT-4o-mini calls, and embedding performance across all agents.
        </AlertDescription>
      </Alert>
    </div>

  </TabsContent>
</Tabs>
      <CardContent>
        The provided docker-compose uses <code>opensearchproject/opensearch:2.11.0</code> with HTTP/HTTPS ports and a default admin password. For production, secure the cluster and rotate passwords.
      </CardContent>
    </Card>
  </TabsContent>

  <TabsContent value="observability">
    <h3 className="text-lg font-semibold">Observability</h3>
    <p>Mastra services emit structured logs to <code>logs/mastra.log</code> and metrics to Prometheus-compatible endpoints. Configure dashboards in OpenSearch Dashboards or Grafana.</p>
  </TabsContent>
</Tabs>

<Separator className="my-6" />

## Quick Start

<Tabs defaultValue="setup">
  <TabsList>
    <TabsTrigger value="setup">Setup</TabsTrigger>
    <TabsTrigger value="query">Query Example</TabsTrigger>
    <TabsTrigger value="index">Indexing</TabsTrigger>
  </TabsList>

  <TabsContent value="setup">
    <h3 className="text-lg font-semibold">Environment Setup</h3>
    <div className="space-y-4">
      <div>
        <h4 className="font-medium">1. Start Dependencies</h4>
        <pre className="bg-slate-100 dark:bg-slate-800 p-3 rounded text-sm">
{`\\# Start Qdrant vector database
docker run -d -p 6333:6333 -p 6334:6334 \\
  -v qdrant_storage:/qdrant/storage \\
  qdrant/qdrant

\\# Start development environment
npm run dev`}

</pre>
</div>

      <div>
        <h4 className="font-medium">2. Environment Variables</h4>
        <pre className="bg-slate-100 dark:bg-slate-800 p-3 rounded text-sm">

{`# .env.local
MASTRA_BASE_URL=http://localhost:3001
OPENAI_API_KEY=your-key-here
GOOGLE_GENERATIVE_AI_API_KEY=your-gemini-key
QDRANT_URL=http://localhost:6333
DATABASE_URL='file:./data/mastra.db'
JWT_SECRET='dev-secret'
NODE_ENV='development'`}

</pre>
</div>

      <div>
        <h4 className="font-medium">3. Available Models</h4>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <Card>
            <CardHeader>
              <CardTitle className="text-sm">Google Gemini</CardTitle>
            </CardHeader>
            <CardContent>
              <ul className="text-xs space-y-1">
                <li>• gemini-2.5-flash-lite (fast)</li>
                <li>• gemini-2.5-flash (balanced)</li>
                <li>• gemini-2.5-pro (advanced)</li>
              </ul>
            </CardContent>
          </Card>
          <Card>
            <CardHeader>
              <CardTitle className="text-sm">OpenAI</CardTitle>
            </CardHeader>
            <CardContent>
              <ul className="text-xs space-y-1">
                <li>• gpt-4o-mini (fast, cheap)</li>
                <li>• gpt-4o (advanced)</li>
                <li>• text-embedding-3-small</li>
              </ul>
            </CardContent>
          </Card>
        </div>
      </div>
    </div>

  </TabsContent>

  <TabsContent value="query">
    <h3 className="text-lg font-semibold">Query the RAG System</h3>
    <pre className="bg-slate-100 dark:bg-slate-800 p-3 rounded text-sm overflow-x-auto">
{`// Frontend query example
const response = await fetch('/api/mastra/query', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    query: "What are the security policies?",
    userId: "user123"
  })
})

const result = await response.json()
console.log(result.answer, result.sources)`}

</pre>

  </TabsContent>

  <TabsContent value="index">
    <h3 className="text-lg font-semibold">Index Documents</h3>
    <pre className="bg-slate-100 dark:bg-slate-800 p-3 rounded text-sm overflow-x-auto">
{`// Index new documents
const response = await fetch('/api/mastra/index', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    documents: [
      {
        content: "Company policy text...",
        metadata: { source: "hr-policy.pdf" }
      }
    ]
  })
})`}
    </pre>
  </TabsContent>
</Tabs>

<Separator className="my-6" />

## API Reference (server routes)

<Card>
  <CardHeader>
    <CardTitle>Key Endpoints</CardTitle>
  </CardHeader>
  <CardContent>
    <div className="space-y-4">
      <div className="flex items-center gap-2">
        <Badge variant="secondary">POST</Badge>
        <code className="text-sm">/api/mastra/query</code>
        <span className="text-sm text-muted-foreground">— Ask the RAG system a question</span>
      </div>
      <div className="ml-6">
        <p className="text-sm"><strong>Request Body:</strong></p>
        <pre className="bg-slate-100 dark:bg-slate-800 p-2 rounded text-xs overflow-x-auto">
{`{
  "query": "What is the company policy on remote work?",
  "userId": "user123",
  "sessionId": "session456"
}`}
        </pre>
        <p className="text-sm mt-2"><strong>Response:</strong> JSON with answer, sources, and confidence score</p>
      </div>

      <div className="flex items-center gap-2">
        <Badge variant="outline">GET</Badge>
        <code className="text-sm">/api/mastra/status</code>
        <span className="text-sm text-muted-foreground">— Health check</span>
      </div>

      <div className="flex items-center gap-2">
        <Badge variant="destructive">POST</Badge>
        <code className="text-sm">/api/mastra/index</code>
        <span className="text-sm text-muted-foreground">— Submit documents (protected)</span>
      </div>

      <div className="flex items-center gap-2">
        <Badge variant="destructive">POST</Badge>
        <code className="text-sm">/api/mastra/agents/run</code>
        <span className="text-sm text-muted-foreground">— Trigger agent workflows (admin-only)</span>
      </div>
    </div>

  </CardContent>
</Card>

<Separator className="my-6" />

## Authentication & Authorization

<Tabs defaultValue="auth">
  <TabsList>
    <TabsTrigger value="auth">Auth</TabsTrigger>
    <TabsTrigger value="rbac">RBAC</TabsTrigger>
    <TabsTrigger value="auditing">Auditing</TabsTrigger>
  </TabsList>

<TabsContent value="auth">
    <p>
        The app uses JWTs issued by the Mastra auth provider. Tokens are set in
        HttpOnly cookies by server-side proxy routes (see{' '}
        <code>lib/mastra/mastra-client.ts</code>). Scopes and claims control
        access to endpoints.
    </p>
</TabsContent>

<TabsContent value="rbac">
    <p>Roles in the system:</p>
    <ul className="list-disc ml-6">
        <li>
            <b>reader</b> — Query-only access.
        </li>
        <li>
            <b>editor</b> — Can submit documents for indexing.
        </li>
        <li>
            <b>admin</b> — Manage agents and configuration.
        </li>
    </ul>
</TabsContent>

  <TabsContent value="auditing">
    <p>All agent runs and query responses are stored with provenance metadata. Configure retention and export via the Mastra server settings.</p>
  </TabsContent>
</Tabs>

<Separator className="my-6" />

## Deployment & Local Dev

<Tabs defaultValue="local">
  <TabsList>
    <TabsTrigger value="local">Local Dev</TabsTrigger>
    <TabsTrigger value="production">Production</TabsTrigger>
    <TabsTrigger value="troubleshooting">Troubleshooting</TabsTrigger>
  </TabsList>

  <TabsContent value="local">
    <Card>
      <CardHeader>
        <CardTitle>Local Development Setup</CardTitle>
      </CardHeader>
      <CardContent>
        <ol className="list-decimal ml-6 space-y-2">
          <li><strong>Start Qdrant:</strong> <code>docker run -d -p 6333:6333 qdrant/qdrant</code></li>
          <li><strong>Install Dependencies:</strong> <code>npm install</code></li>
          <li><strong>Configure Environment:</strong> Copy <code>.env.example</code> to <code>.env</code></li>
          <li><strong>Start Development:</strong> <code>npm run dev</code></li>
          <li><strong>Verify Health:</strong> Check <code>http://localhost:3000/api/health</code></li>
        </ol>

        <Alert className="mt-4">
          <Terminal className="h-4 w-4" />
          <AlertTitle>Development Commands</AlertTitle>
          <AlertDescription>
            Use <code>npm run dev:mastra</code> to run Mastra in development mode, or <code>npm run dev</code> for full stack.
          </AlertDescription>
        </Alert>
      </CardContent>
    </Card>

  </TabsContent>

  <TabsContent value="production">
    <Card>
      <CardHeader>
        <CardTitle>Production Deployment</CardTitle>
      </CardHeader>
      <CardContent>
        <div className="space-y-4">
          <div>
            <h4 className="font-medium">Infrastructure Requirements</h4>
            <ul className="list-disc ml-6 space-y-1">
              <li><strong>Qdrant Cluster:</strong> Managed Qdrant instance (Qdrant Cloud or self-hosted)</li>
              <li><strong>Database:</strong> LibSQL (Turso) or PostgreSQL for metadata storage</li>
              <li><strong>AI Models:</strong> Google Gemini API key and/or OpenAI API key</li>
              <li><strong>Storage:</strong> File storage for logs and temporary data</li>
            </ul>
          </div>

          <div>
            <h4 className="font-medium">Environment Variables</h4>
            <pre className="bg-slate-100 dark:bg-slate-800 p-3 rounded text-sm">

{`# Production Configuration
NODE_ENV=production
MASTRA_BASE_URL=https://your-domain.com
OPENAI_API_KEY=your-production-openai-key
GOOGLE_GENERATIVE_AI_API_KEY=your-production-gemini-key
QDRANT_URL=https://your-qdrant-instance.com
QDRANT_API_KEY=your-qdrant-api-key
DATABASE_URL=libsql://your-database.turso.io
JWT_SECRET=your-secure-random-jwt-secret
LANGFUSE_PUBLIC_KEY=your-langfuse-key
LANGFUSE_SECRET_KEY=your-langfuse-secret`}

</pre>
</div>

          <div>
            <h4 className="font-medium">Deployment Steps</h4>
            <pre className="bg-slate-100 dark:bg-slate-800 p-3 rounded text-sm">

{`# Build the application
npm run build

# Start production server

npm start

# Or use PM2 for process management

npm install -g pm2
pm2 start npm --name "mastra-rag" -- start`}

</pre>
</div>

          <div>
            <h4 className="font-medium">Monitoring Setup</h4>
            <ul className="list-disc ml-6 space-y-1">
              <li><strong>Langfuse:</strong> AI model performance and tracing</li>
              <li><strong>Logs:</strong> Structured logging to <code>logs/mastra.log</code></li>
              <li><strong>Health Checks:</strong> <code>/api/health</code> endpoint</li>
              <li><strong>Metrics:</strong> Prometheus-compatible metrics available</li>
            </ul>
          </div>
        </div>
      </CardContent>
    </Card>

  </TabsContent>

  <TabsContent value="troubleshooting">
    <Card>
      <CardHeader>
        <CardTitle>Common Issues</CardTitle>
      </CardHeader>
      <CardContent>
        <div className="space-y-4">
          <Alert>
            <AlertTriangle className="h-4 w-4" />
            <AlertTitle>OpenSearch Connection Failed</AlertTitle>
            <AlertDescription>
              Ensure OpenSearch is running and accessible. Check <code>docker ps</code> and network connectivity.
            </AlertDescription>
          </Alert>

          <Alert>
            <AlertTriangle className="h-4 w-4" />
            <AlertTitle>MDX Compilation Errors</AlertTitle>
            <AlertDescription>
              Check that all remark/rehype plugins are installed and properly configured in <code>lib/mdx-plugins.ts</code>.
            </AlertDescription>
          </Alert>
        </div>
      </CardContent>
    </Card>

  </TabsContent>
</Tabs>

<Separator className="my-6" />

## Example: Query endpoint (server-side)

<Card>
  <CardHeader>
    <CardTitle>Server route skeleton</CardTitle>
  </CardHeader>
  <CardContent>
    <pre className="bg-slate-900 text-white p-3 rounded">
{`// app/api/mastra/query/route.ts
import { NextResponse } from 'next/server'
import { proxyToMastra } from '@/lib/mastra/mastra-client'

export async function POST(req: Request) {
  const body = await req.json()
  // validate + enforce RBAC here
  const res = await proxyToMastra('/query', { method: 'POST', body })
  return NextResponse.json(await res.json())
}
`}
    </pre>
  </CardContent>
</Card>

<Separator className="my-6" />

## Security Checklist

<ul className="list-disc ml-6">
    <li>Require TLS for all Mastra endpoints.</li>
    <li>Rotate the OpenSearch password from the docker compose example.</li>
    <li>Use least-privilege for agents and storage credentials.</li>
    <li>
        Enable audit logging and store logs in a write-once medium if required
        by policy.
    </li>
</ul>

<Separator className="my-6" />

## Next steps & follow-ups

<Card>
  <CardHeader>
    <CardTitle>What's Next?</CardTitle>
  </CardHeader>
  <CardContent>
    <div className="space-y-4">
      <div>
        <h4 className="font-medium">Related Documentation</h4>
        <ul className="list-disc ml-6 space-y-1">
          <li><a href="/docs/api-reference" className="text-blue-600 hover:underline">API Reference</a> — Complete endpoint documentation</li>
          <li><a href="/docs/security" className="text-blue-600 hover:underline">Security Guide</a> — Advanced security configurations</li>
          <li><a href="/docs/architecture" className="text-blue-600 hover:underline">Architecture Deep Dive</a> — Technical implementation details</li>
        </ul>
      </div>

      <div>
        <h4 className="font-medium">Development Tasks</h4>
        <ul className="list-disc ml-6 space-y-1">
          <li>Implement server routes for all Mastra endpoints</li>
          <li>Add comprehensive error handling and logging</li>
          <li>Create admin UI for agent management</li>
          <li>Set up monitoring and alerting</li>
        </ul>
      </div>
    </div>

  </CardContent>
</Card>

<div className="mt-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
    <div className="flex items-center gap-2 mb-2">
        <Terminal className="h-5 w-5 text-blue-600" />
        <span className="font-medium text-blue-900 dark:text-blue-100">
            Ready to Get Started?
        </span>
    </div>
    <p className="text-blue-800 dark:text-blue-200 mb-4">
        Follow the Quick Start guide above to set up your development
        environment and start building with Mastra.
    </p>
    <Button variant="default" className="bg-blue-600 hover:bg-blue-700">
        Start Development
    </Button>
</div>
